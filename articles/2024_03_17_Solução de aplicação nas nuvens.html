<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Artigo técnico sobre solução de aplicação nas nuvens">
    <meta name="author" content="Christian Mulato">
    <meta name="keywords" content="Desenvolvimento, Tecnologia, Programação">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Solução de aplicação nas nuvens">
    <meta property="og:description" content="Artigo técnico sobre solução de aplicação nas nuvens">
    <meta property="og:type" content="article">
    <meta property="og:author" content="Christian Mulato">
    <meta property="og:article:published_time" content="17/03/2024">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Solução de aplicação nas nuvens">
    <meta name="twitter:description" content="Artigo técnico sobre solução de aplicação nas nuvens">
    
    <title>Solução de aplicação nas nuvens | Christian Mulato Dev Blog</title>
    
    <!-- Fonts e Styles -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Fira+Code:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/article.css">
    
    <!-- Prism.js para syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css" rel="stylesheet">
    
    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "Solução de aplicação nas nuvens",
        "description": "Artigo técnico sobre solução de aplicação nas nuvens",
        "author": {
            "@type": "Person",
            "name": "Christian Mulato"
        },
        "datePublished": "17/03/2024",
        "category": "Desenvolvimento"
    }
    </script>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="../index.html" class="nav-brand">← Voltar ao Blog</a>
            <div class="nav-links">
                <a href="../index.html">Artigos</a>
                <a href="https://www.linkedin.com/in/chmulato/" target="_blank">LinkedIn</a>
                <a href="https://github.com/chmulato" target="_blank">GitHub</a>
            </div>
        </div>
    </nav>

    <article class="article-container">
        <header class="article-header">
            <div class="article-meta">
                <span class="category">Desenvolvimento</span>
                <time class="date" datetime="17/03/2024">17/03/2024</time>
            </div>
            <h1 class="article-title">Solução de aplicação nas nuvens</h1>
            <div class="author-info">
                <span>Por <a href="https://www.linkedin.com/in/chmulato/" target="_blank">Christian Mulato</a></span>
            </div>
            <div class="article-tags">
                <span class="tag">Desenvolvimento</span> <span class="tag">Tecnologia</span> <span class="tag">Programação</span>
            </div>
        </header>
        
        <div class="article-content">
            <p><img alt="Imagem do artigo" src="img/2024_03_17_Solução de aplicação nas nuvens_image7.png" /></p>
<p>Solução de aplicação nas nuvens</p>
<p><img alt="Christian Mulato" src="img/2024_03_17_Solução de aplicação nas nuvens_image8.jpg" /></p>
<p>Christian Mulato</p>
<p>Desenvolvedor Java Sênior na Develcode</p>
<p>17 de março de 2024</p>
<p>Apache OpenWhisk é uma plataforma serverless de código aberto que executa funções em resposta a eventos em qualquer escala. Ela gerencia a infraestrutura, servidores e escalabilidade usando contêineres Docker, permitindo que você se concentre em construir aplicativos incríveis e eficientes.</p>
<p>Aqui estão os principais aspectos do Apache OpenWhisk:</p>
<ol>
<li>
<p>Execução de Funções (fx): O OpenWhisk permite que você escreva lógica funcional (chamada de Actions) em qualquer linguagem de programação suportada. Essas ações podem ser agendadas dinamicamente e executadas em resposta a eventos associados (por meio de Triggers) de fontes externas (como Feeds) ou de solicitações HTTP.</p>
</li>
<li>
<p>Deploys em Qualquer Lugar: Como o OpenWhisk baseia seus componentes em contêineres, ele oferece suporte a várias opções de implantação, tanto localmente quanto em infraestruturas de nuvem. Isso inclui estruturas populares de contêineres, como Kubernetes, OpenShift e Compose.</p>
</li>
<li>
<p>Suporte a Múltiplas Linguagens: O OpenWhisk suporta várias linguagens, incluindo Go, Java, NodeJS, .NET, PHP, Python, Ruby, Rust, Scala e Swift. Além disso, há um tempo de execução experimental para Deno em desenvolvimento.</p>
</li>
<li>
<p>Integração com Serviços Populares: O OpenWhisk facilita a integração de suas ações com muitos serviços populares usando Packages. Esses pacotes oferecem integrações com serviços como filas de mensagens Kafka, bancos de dados como Cloudant, notificações push de aplicativos móveis, mensagens do Slack e feeds RSS. Você também pode usar o pacote Alarms para agendar a execução de suas ações em horários específicos ou intervalos recorrentes.</p>
</li>
<li>
<p>Composições Ricas: O OpenWhisk permite combinar suas funções em composições ricas. Você pode escrever código em diferentes idiomas, como JavaScript/NodeJS, Swift, Python, Java ou executar lógica personalizada empacotando o código com Docker.</p>
</li>
</ol>
<p>Em resumo, o Apache OpenWhisk oferece uma maneira flexível e escalável de criar aplicativos serverless, permitindo que você se concentre na lógica de negócios e na criação de soluções independentes de nuvem.</p>
<p>Aqui está um exemplo simples de como criar uma ação (ou função) usando o Apache OpenWhisk. Vamos supor que queremos criar uma ação que some dois números:</p>
<p>// Javascript - Arquivo: soma.js</p>
<p>function main(params) {</p>
<p>const { num1, num2 } = params;</p>
<p>if (!num1 || !num2) {</p>
<p>return { error: 'Por favor, forneça os números para somar.' };</p>
<p>}</p>
<p>const resultado = num1 + num2;</p>
<p>return { resultado };</p>
<p>}</p>
<p>Neste exemplo:</p>
<ul>
<li>
<p>Criamos uma função chamada main que recebe um objeto params.</p>
</li>
<li>
<p>Verificamos se os números num1 e num2 foram fornecidos.</p>
</li>
<li>
<p>Se sim, somamos os números e retornamos o resultado.</p>
</li>
</ul>
<p>Para criar essa ação no OpenWhisk, você pode usar o seguinte comando na linha de comando:</p>
<p>wsk action create minha-soma soma.js</p>
<p>Agora, você pode invocar essa ação passando os parâmetros num1 e num2:</p>
<p>wsk action invoke minha-soma --param num1 10 --param num2 20</p>
<p>Isso retornará um objeto JSON com o resultado da soma:</p>
<p>// Arquivo - JSON</p>
<p>{</p>
<p>"resultado": 30</p>
<p>}</p>
<p>Lembre-se de que este é apenas um exemplo básico. O OpenWhisk oferece muito mais recursos, como gatilhos, regras e composições, para criar soluções serverless mais complexas.</p>
<p>Para usar o Apache OpenWhisk localmente em um sistema operacional Linux, você pode seguir estas etapas:</p>
<ol>
<li>
<p>Instalação do Docker e Docker Compose:</p>
</li>
<li>
<p>Certifique-se de ter o Docker instalado em sua máquina. Se ainda não o tiver, instale-o.</p>
</li>
<li>
<p>Em seguida, instale o Docker Compose, que é uma ferramenta para definir e executar aplicativos Docker com vários contêineres.</p>
</li>
<li>
<p>Clone o Repositório do OpenWhisk:</p>
</li>
<li>
<p>Abra um terminal e execute o seguinte comando para clonar o repositório do OpenWhisk:</p>
</li>
</ol>
<p>git clone https://github.com/apache/openwhisk.git</p>
<ol>
<li>
<p>Configuração do Ambiente:</p>
</li>
<li>
<p>Navegue para o diretório openwhisk/tools/ubuntu-setup.</p>
</li>
<li>
<p>Execute o script de configuração para instalar as dependências necessárias:</p>
</li>
</ol>
<p>cd openwhisk/tools/ubuntu-setup</p>
<p>./all.sh</p>
<ol>
<li>
<p>Inicie o OpenWhisk Localmente:</p>
</li>
<li>
<p>Execute o seguinte comando para iniciar o OpenWhisk localmente usando o Docker Compose:</p>
</li>
</ol>
<p>docker-compose -f docker-compose.yml -f docker-compose.local.yml up</p>
<ol>
<li>
<p>Verifique a Instalação:</p>
</li>
<li>
<p>Após a inicialização, você pode verificar se o OpenWhisk está funcionando corretamente. Abra um navegador e acesse:</p>
</li>
</ol>
<p>http://localhost:3233</p>
<p>Você verá a interface da API do OpenWhisk.</p>
<ol>
<li>
<p>Use o CLI do OpenWhisk:</p>
</li>
<li>
<p>Instale o CLI do OpenWhisk (wsk) em sua máquina. Você pode baixá-lo a partir do repositório oficial do OpenWhisk.</p>
</li>
<li>
<p>Configure o CLI para apontar para o ambiente local:</p>
</li>
</ol>
<p>wsk property set --apihost localhost --auth <sua_chave_de_autenticação></p>
<ol>
<li>
<p>Crie e Execute Ações:</p>
</li>
<li>
<p>Agora você pode criar suas próprias ações e invocá-las localmente usando o CLI do OpenWhisk.</p>
</li>
</ol>
<p>Lembre-se de que essa é uma configuração básica para uso local.</p>
<p>Implantar uma ação do Apache OpenWhisk em um ambiente de produção envolve algumas etapas importantes. Vou fornecer uma visão geral, mas lembre-se de que os detalhes específicos podem variar com base na sua infraestrutura e requisitos.</p>
<p><img alt="Imagem do artigo" src="img/2024_03_17_Solução de aplicação nas nuvens_image9.png" /></p>
<p>Um exemplo esquemático das tecnologias envolvidas.</p>
<ol>
<li>
<p>Configuração do Ambiente:</p>
</li>
<li>
<p>Ambiente OpenWhisk: Primeiro, você precisa ter um ambiente OpenWhisk configurado. Isso pode ser local (usando o OpenWhisk em um cluster Kubernetes ou Docker Compose) ou em uma nuvem pública (como IBM Cloud, AWS, Google Cloud, etc.).</p>
</li>
<li>
<p>Credenciais: Certifique-se de ter as credenciais corretas para acessar o ambiente OpenWhisk.</p>
</li>
<li>
<p>Empacotamento da Ação:</p>
</li>
<li>
<p>Empacote sua ação (no nosso exemplo, a ação de soma) em um arquivo ZIP ou contêiner Docker. Isso inclui o código da ação e quaisquer dependências necessárias.</p>
</li>
<li>
<p>Criação da Ação:</p>
</li>
<li>
<p>Use o comando wsk action create para criar a ação no OpenWhisk. Por exemplo:</p>
</li>
</ol>
<p>wsk action create minha-soma soma.js</p>
<ol>
<li>
<p>Teste da Ação:</p>
</li>
<li>
<p>Antes de implantar em produção, teste sua ação para garantir que ela funcione conforme o esperado. Use o comando wsk action invoke para testar a ação com diferentes parâmetros.</p>
</li>
<li>
<p>Gerenciamento de Segurança:</p>
</li>
<li>
<p>Configure as permissões corretas para a ação. Defina quem pode invocar a ação e quem pode gerenciá-la.</p>
</li>
<li>
<p>Considere usar chaves de API ou tokens de autenticação para proteger o acesso à sua ação.</p>
</li>
<li>
<p>Monitoramento e Logs:</p>
</li>
<li>
<p>Configure o monitoramento para sua ação. Isso pode incluir métricas, logs e alertas.</p>
</li>
<li>
<p>Use ferramentas como Prometheus, Grafana ou serviços de monitoramento da nuvem.</p>
</li>
<li>
<p>Escalabilidade e Redundância:</p>
</li>
<li>
<p>Planeje a escalabilidade da sua ação. Como ela se comportará sob carga pesada?</p>
</li>
<li>
<p>Considere a redundância para evitar pontos únicos de falha.</p>
</li>
<li>
<p>Implantação em Produção:</p>
</li>
<li>
<p>Finalmente, implante sua ação no ambiente de produção. Isso pode ser feito usando o mesmo comando wsk action update ou por meio de ferramentas de CI/CD.</p>
</li>
</ol>
<p>Lembre-se de que essas etapas são uma visão geral. Dependendo do seu caso de uso específico, você pode precisar ajustar ou adicionar etapas adicionais. Consulte a documentação do Apache OpenWhisk e as práticas recomendadas para obter mais detalhes sobre a implantação em produção.</p>
        </div>
    </article>

    <footer class="article-footer">
        <div class="footer-content">
            <p>&copy; 2025 Christian Mulato. Todos os direitos reservados.</p>
            <div class="footer-links">
                <a href="https://www.linkedin.com/in/chmulato/" target="_blank">LinkedIn</a>
                <a href="https://github.com/chmulato" target="_blank">GitHub</a>
            </div>
        </div>
    </footer>
    
    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <!-- Copy code functionality -->
    <script>
        // Adicionar botões de copiar código
        document.querySelectorAll('pre code').forEach((block) => {
            const button = document.createElement('button');
            button.className = 'copy-button';
            button.textContent = 'Copiar';
            button.onclick = () => {
                navigator.clipboard.writeText(block.textContent);
                button.textContent = 'Copiado!';
                setTimeout(() => button.textContent = 'Copiar', 2000);
            };
            block.parentNode.appendChild(button);
        });
    </script>
</body>
</html>